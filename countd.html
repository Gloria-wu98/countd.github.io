
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§è€ƒåŠç•¢æ¥­å€’æ•¸æ—¥è¨ˆæ™‚å™¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding-bottom: 4rem; /* Add padding to prevent content being hidden by potential fixed elements */
        }

        .calendar {
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .calendar:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .calendar-header {
            /* Default background color, will be overridden by Tailwind if a mode is active */
            background-color: #e74c3c; 
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }

        .calendar-body {
            background-color: white;
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
        }

        .quote-card {
            background: linear-gradient(45deg, #f3f4f6, #ffffff);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .quote-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        .btn-primary {
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3); /* ç´…è‰²æŒ‰éˆ•é™°å½± */
        }

        .btn-secondary {
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .date-input, .select-input { 
            transition: all 0.3s ease;
        }

        .date-input:focus, .select-input:focus {
            border-color: #e74c3c; 
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.25); 
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        .creator-info {
            background-color: #e9d5ff; 
            color: #5b21b6; 
            padding: 0.75rem 1.5rem; 
            border-radius: 0.5rem; 
            text-align: center;
            font-weight: 500; 
            margin-bottom: 1.5rem; 
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); 
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-3xl mx-auto">
        <h1 id="mainHeader" class="text-4xl md:text-5xl font-bold text-center mb-4 text-purple-600">å¤§è€ƒå€’æ•¸è¨ˆæ™‚æ—¥</h1>
        <p class="creator-info text-lg">è¨ˆæ™‚å™¨å‰µå»ºäººï¼šGloriaå³ç§€è˜­è€å¸«ï¼ŒGoogleèªè­‰è¬›å¸«ï¼Œè‹±æ–‡å…¼å°èªæ•™å¸«</p>

        <div class="mb-6 bg-white rounded-lg p-6 shadow-md">
            <label for="countdownTypeSelect" class="block text-lg font-medium text-gray-700 mb-2">é¸æ“‡è¨ˆæ™‚é¡å‹ï¼š</label>
            <select id="countdownTypeSelect" class="select-input w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none text-lg">
                <option value="exam" selected>å¤§è€ƒå€’æ•¸è¨ˆæ™‚æ—¥</option>
                <option value="graduation">ç•¢æ¥­å€’æ•¸è¨ˆæ™‚æ—¥</option>
                <option value="examToGraduation">å¤§è€ƒè‡³ç•¢æ¥­æ—¥å€’æ•¸è¨ˆæ™‚æ—¥</option>
            </select>
        </div>

        <div id="dateInputsContainer" class="mb-8 bg-white rounded-lg p-6 shadow-md">
            <div id="dateInput1Group" class="mb-4">
                <label id="dateInput1Label" for="dateInput1" class="block text-lg font-medium text-gray-700 mb-2">é¸æ“‡å¤§è€ƒæ—¥æœŸï¼š</label>
                <input type="date" id="dateInput1" class="date-input w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none text-lg">
            </div>

            <div id="dateInput2Group" class="mb-4 hidden"> 
                <label id="dateInput2Label" for="dateInput2" class="block text-lg font-medium text-gray-700 mb-2">é¸æ“‡ç•¢æ¥­æ—¥æœŸï¼š</label>
                <input type="date" id="dateInput2" class="date-input w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none text-lg">
            </div>

            <div class="flex flex-col md:flex-row gap-4">
                <button id="startCountdown" class="btn-primary bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg w-full md:w-auto flex-grow">é–‹å§‹å€’æ•¸</button>
                <button id="resetCountdown" class="btn-secondary bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-lg w-full md:w-auto flex-grow">æ¸…é™¤</button>
            </div>
            <p id="formAlert" class="text-red-500 text-center mt-3 text-sm"></p> 
        </div>

        <div id="countdownDisplay" class="calendar mb-8 rounded-lg overflow-hidden hidden">
            <div class="calendar-header p-4 text-center text-white"> <h2 id="countdownCardTitle" class="text-2xl font-bold">å€’æ•¸è¨ˆæ™‚</h2>
                <p id="countdownDateString" class="text-lg opacity-90"></p> 
            </div>
            <div class="calendar-body p-8 text-center">
                <div class="mb-4">
                    <span id="daysLeft" class="text-6xl md:text-8xl font-bold text-red-500 pulse"></span> 
                    <span class="text-3xl md:text-4xl font-bold text-gray-700">å¤©</span>
                </div>
                <p id="countdownTargetText" class="text-lg text-gray-600">è·é›¢ç›®æ¨™æ—¥æœŸé‚„æœ‰</p>
            </div>
        </div>

        <div id="quoteCard" class="quote-card p-6 rounded-lg mb-8 hidden">
            <div class="flex items-start">
                <div class="text-3xl mr-4">ğŸ’­</div>
                <div>
                    <p id="dailyQuote" class="text-lg text-gray-700 italic"></p>
                    <p id="quoteAuthor" class="text-right text-gray-500 mt-2 text-sm"></p>
                </div>
            </div>
        </div>

        <div id="noDateSelected" class="text-center p-8 bg-gray-100 rounded-lg">
            <div class="text-5xl mb-4">ğŸ“…</div>
            <p class="text-xl text-gray-600">è«‹é¸æ“‡è¨ˆæ™‚é¡å‹ä¸¦è¨­å®šæ—¥æœŸé–‹å§‹å€’æ•¸</p>
        </div>
    </div>

    <script>
        // å‹µå¿—é‡‘å¥åº«
        const quotes = [
            { text: "ç«¥å¹´æ˜¯ä¸€å€‹ç¾éº—çš„å¤¢ï¼Œæ˜¯äººç”Ÿä¸­æœ€ç´”çœŸçš„æ™‚å…‰ã€‚", author: "é­¯è¿…" },
            { text: "çæƒœç•¶ä¸‹çš„æ¯ä¸€åˆ»ï¼Œå› ç‚ºå®ƒå€‘çµ‚å°‡æˆç‚ºç¾å¥½çš„å›æ†¶ã€‚", author: "ä½šå" },
            { text: "æ¯ä¸€æ¬¡åŠªåŠ›ï¼Œéƒ½æ˜¯æˆåŠŸçš„ä¼ç­†ã€‚", author: "ä½šå" },
            { text: "å …æŒä¸‹å»ï¼ŒæˆåŠŸå°±åœ¨ä¸‹ä¸€å€‹è½‰è§’ã€‚", author: "ä½šå" },
            { text: "ç›¸ä¿¡è‡ªå·±ï¼Œä½ æ¯”æƒ³åƒä¸­æ›´å¼·å¤§ã€‚", author: "ä½šå" },
            { text: "ä»Šå¤©çš„åŠªåŠ›ï¼Œæ˜¯æ˜æ—¥çš„å¹¸é‹ã€‚", author: "ä½šå" },
            { text: "ä¸è¦å®³æ€•å¤±æ•—ï¼Œå®ƒæ˜¯æˆåŠŸçš„å¢Šè…³çŸ³ã€‚", author: "ä½šå" },
            { text: "ç‚ºå¤¢æƒ³åŠ é€Ÿï¼Œç‚ºæœªä¾†åŠ æ²¹ï¼", author: "Gloriaè€å¸«"},
            { text: "æ¯ä¸€æ¬¡ç¿»é–‹æ›¸æœ¬ï¼Œéƒ½æ˜¯èˆ‡æ™ºæ…§çš„å°è©±ã€‚", author: "Gloriaè€å¸«"},
            { text: "è€ƒè©¦æ˜¯æª¢é©—ï¼Œæ›´æ˜¯æˆé•·çš„æ©Ÿæœƒã€‚", author: "Gloriaè€å¸«"},
            { text: "ç•¢æ¥­ä¸æ˜¯çµæŸï¼Œè€Œæ˜¯å¶„æ–°çš„é–‹å§‹ã€‚", author: "Gloriaè€å¸«"},
            { text: "é’æ˜¥ç„¡æ‚”ï¼Œç‚ºå¤¢æƒ³å¥®é¬¥çš„æ¯ä¸€å¤©éƒ½é–ƒé–ƒç™¼å…‰ã€‚", author: "Gloriaè€å¸«"}
        ];

        // DOM å…ƒç´ 
        const mainHeader = document.getElementById('mainHeader');
        const countdownTypeSelect = document.getElementById('countdownTypeSelect');
        
        const dateInput1Group = document.getElementById('dateInput1Group');
        const dateInput1Label = document.getElementById('dateInput1Label');
        const dateInput1 = document.getElementById('dateInput1');
        
        const dateInput2Group = document.getElementById('dateInput2Group');
        const dateInput2Label = document.getElementById('dateInput2Label');
        const dateInput2 = document.getElementById('dateInput2');
        
        const startCountdownBtn = document.getElementById('startCountdown');
        const resetCountdownBtn = document.getElementById('resetCountdown');
        const formAlert = document.getElementById('formAlert');

        const countdownDisplay = document.getElementById('countdownDisplay');
        const countdownCardTitle = document.getElementById('countdownCardTitle');
        const countdownDateString = document.getElementById('countdownDateString');
        const daysLeftElement = document.getElementById('daysLeft');
        const countdownTargetText = document.getElementById('countdownTargetText');
        
        const quoteCard = document.getElementById('quoteCard');
        const dailyQuote = document.getElementById('dailyQuote');
        const quoteAuthor = document.getElementById('quoteAuthor');
        const noDateSelected = document.getElementById('noDateSelected');

        let currentSelectedMode = 'exam'; // é è¨­æ¨¡å¼

        // æ ¼å¼åŒ–æ—¥æœŸç‚ºä¸­æ–‡
        function formatDateToChinese(date) {
            if (!date) return '';
            const d = new Date(date);
            if (isNaN(d.getTime())) return '';
            const year = d.getFullYear();
            const month = d.getMonth() + 1;
            const day = d.getDate();
            return `${year} å¹´ ${month} æœˆ ${day} æ—¥`;
        }

        // è¨ˆç®—å‰©é¤˜å¤©æ•¸
        function calculateDaysLeft(targetDateString) {
            if (!targetDateString) return 0;
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            const targetD = new Date(targetDateString);
            if (isNaN(targetD.getTime())) return 0;
            targetD.setHours(0, 0, 0, 0);

            const timeDiff = targetD.getTime() - today.getTime();
            return Math.ceil(timeDiff / (1000 * 3600 * 24));
        }

        // æ ¹æ“šé¸æ“‡çš„æ¨¡å¼æ›´æ–°UI (è¼¸å…¥æ¬„ä½ã€æ¨™ç±¤ç­‰)
        function setupUIForSelectedMode(mode) {
            currentSelectedMode = mode;
            mainHeader.textContent = countdownTypeSelect.options[countdownTypeSelect.selectedIndex].text;

            const savedData = JSON.parse(localStorage.getItem('countdownAppData')) || {};
            dateInput1.value = ''; 
            dateInput2.value = '';

            if (savedData.mode === mode) { 
                dateInput1.value = savedData.date1 || '';
                if (mode === 'examToGraduation') {
                    dateInput2.value = savedData.date2 || '';
                }
            }
            
            formAlert.textContent = ''; 

            if (mode === 'exam') {
                dateInput1Group.classList.remove('hidden');
                dateInput1Label.textContent = "é¸æ“‡å¤§è€ƒæ—¥æœŸï¼š";
                dateInput2Group.classList.add('hidden');
            } else if (mode === 'graduation') {
                dateInput1Group.classList.remove('hidden');
                dateInput1Label.textContent = "é¸æ“‡ç•¢æ¥­æ—¥æœŸï¼š";
                dateInput2Group.classList.add('hidden');
            } else if (mode === 'examToGraduation') {
                dateInput1Group.classList.remove('hidden');
                dateInput1Label.textContent = "é¸æ“‡å¤§è€ƒæ—¥æœŸï¼š";
                dateInput2Group.classList.remove('hidden');
                dateInput2Label.textContent = "é¸æ“‡ç•¢æ¥­æ—¥æœŸï¼š";
            }
            updateCountdownDisplay(); 
        }

        // æ›´æ–°å€’æ•¸è¨ˆæ™‚å™¨çš„é¡¯ç¤º
        function updateCountdownDisplay() {
            const savedData = JSON.parse(localStorage.getItem('countdownAppData')) || {};
            let effectiveTargetDate = null;
            let currentCountdownTitle = "å€’æ•¸è¨ˆæ™‚"; // å¡ç‰‡æ¨™é¡Œ
            let currentTargetText = "è·é›¢ç›®æ¨™æ—¥æœŸé‚„æœ‰"; // å¡ç‰‡å…§æ–‡æç¤º
            let dateStringToDisplay = ""; // å¡ç‰‡æ—¥æœŸå­—ä¸²
            let daysLeft = 0;

            const calendarHeader = countdownDisplay.querySelector('.calendar-header');

            // æ¸…é™¤å…ˆå‰çš„é¡è‰² class
            calendarHeader.classList.remove('bg-red-500', 'bg-blue-600', 'bg-green-600');
            daysLeftElement.classList.remove('text-red-500', 'text-blue-600', 'text-green-600');
            // æ¢å¾©é è¨­ï¼ˆå¦‚æœæ²’æœ‰æ¨¡å¼åŒ¹é…ï¼Œæœƒè¢«CSSä¸­çš„é è¨­ç´…è‰²è¦†è“‹ï¼Œæˆ–è€…å¦‚æœæ²’æœ‰å€’æ•¸å‰‡éš±è—ï¼‰
            daysLeftElement.classList.add('text-red-500'); // é è¨­å¤©æ•¸é¡è‰²ï¼Œæœƒè¢«ç‰¹å®šæ¨¡å¼è¦†è“‹

            if (!savedData.mode) {
                countdownDisplay.classList.add('hidden');
                quoteCard.classList.add('hidden');
                noDateSelected.classList.remove('hidden');
                return;
            }
            
            // æ ¹æ“šæ¨¡å¼è¨­å®šæ¨™é¡Œã€æ–‡å­—å’Œé¡è‰²
            if (savedData.mode === 'exam') {
                effectiveTargetDate = savedData.date1;
                currentCountdownTitle = "å¤§è€ƒå€’æ•¸";
                dateStringToDisplay = savedData.date1 ? `å¤§è€ƒæ—¥æœŸï¼š${formatDateToChinese(savedData.date1)}` : "";
                currentTargetText = "è·é›¢å¤§è€ƒé‚„æœ‰";
                calendarHeader.classList.add('bg-red-500');
                daysLeftElement.classList.add('text-red-500');
            } else if (savedData.mode === 'graduation') {
                effectiveTargetDate = savedData.date1;
                currentCountdownTitle = "ç•¢æ¥­å€’æ•¸";
                dateStringToDisplay = savedData.date1 ? `ç•¢æ¥­æ—¥æœŸï¼š${formatDateToChinese(savedData.date1)}` : "";
                currentTargetText = "è·é›¢ç•¢æ¥­é‚„æœ‰";
                calendarHeader.classList.add('bg-blue-600'); // ç•¢æ¥­æ¨¡å¼è—è‰²
                daysLeftElement.classList.add('text-blue-600');
            } else if (savedData.mode === 'examToGraduation') {
                currentCountdownTitle = "å¤§è€ƒè‡³ç•¢æ¥­æ—¥å€’æ•¸"; // *** æ­¤è™•ç‚ºç”¨æˆ¶è¦æ±‚çš„è¡¨é ­æ›´æ”¹ ***
                calendarHeader.classList.add('bg-green-600'); // å¤§è€ƒè‡³ç•¢æ¥­æ¨¡å¼ç¶ è‰²
                daysLeftElement.classList.add('text-green-600');

                if (savedData.date1) {
                    const daysToExam = calculateDaysLeft(savedData.date1);
                    if (daysToExam < 0 && savedData.date2) { 
                        effectiveTargetDate = savedData.date2;
                        dateStringToDisplay = savedData.date2 ? `ç•¢æ¥­æ—¥æœŸï¼š${formatDateToChinese(savedData.date2)}` : "";
                        currentTargetText = "è·é›¢ç•¢æ¥­é‚„æœ‰";
                    } else { 
                        effectiveTargetDate = savedData.date1;
                        dateStringToDisplay = savedData.date1 ? `å¤§è€ƒæ—¥æœŸï¼š${formatDateToChinese(savedData.date1)}` : "";
                        currentTargetText = "è·é›¢å¤§è€ƒé‚„æœ‰";
                    }
                }
            }

            if (effectiveTargetDate) {
                daysLeft = calculateDaysLeft(effectiveTargetDate);
                countdownCardTitle.textContent = currentCountdownTitle;
                countdownDateString.textContent = dateStringToDisplay;
                countdownTargetText.textContent = currentTargetText;
                daysLeftElement.textContent = daysLeft; // ç¢ºä¿åœ¨é¡¯ç¤ºå‰ç§»é™¤èˆŠé¡è‰²

                countdownDisplay.classList.remove('hidden');
                quoteCard.classList.remove('hidden');
                noDateSelected.classList.add('hidden');

                if (daysLeft < 0) {
                    daysLeftElement.textContent = "0";
                    let finalMessage = "ç›®æ¨™å·²é”æˆï¼";
                    let finalQuote = "æ­å–œï¼æ–°çš„æ—…ç¨‹å·²å±•é–‹ï¼";
                    
                    if (savedData.mode === 'examToGraduation') {
                        const examPassed = calculateDaysLeft(savedData.date1) < 0;
                        const gradPassed = savedData.date2 ? calculateDaysLeft(savedData.date2) < 0 : false;
                        if (examPassed && gradPassed) {
                            finalMessage = "å¤§è€ƒåŠç•¢æ¥­çš†å·²å®Œæˆï¼";
                            finalQuote = "å¤ªæ£’äº†ï¼æ‰€æœ‰ç›®æ¨™éƒ½é”æˆäº†ï¼";
                            daysLeftElement.innerHTML = "&#x1F389;"; 
                        } else if (examPassed && !savedData.date2) {
                             finalMessage = "å¤§è€ƒå·²çµæŸï¼";
                             finalQuote = "å¤§è€ƒçµæŸï¼Œå¤ªæ£’äº†ï¼";
                        } else if (examPassed && effectiveTargetDate === savedData.date2) { 
                             finalMessage = "ç•¢æ¥­æ—¥å·²éï¼";
                             finalQuote = "æ­å–œç•¢æ¥­ï¼";
                        } else { 
                             finalMessage = "å¤§è€ƒå·²çµæŸï¼";
                             finalQuote = "å¤§è€ƒçµæŸï¼Œå¤ªæ£’äº†ï¼";
                        }
                    } else if (savedData.mode === 'exam') {
                        finalMessage = "å¤§è€ƒå·²çµæŸï¼";
                        finalQuote = "å¤§è€ƒçµæŸï¼Œå¤ªæ£’äº†ï¼";
                    } else if (savedData.mode === 'graduation') {
                        finalMessage = "ç•¢æ¥­æ—¥å·²éï¼";
                        finalQuote = "æ­å–œç•¢æ¥­ï¼";
                    }
                    countdownTargetText.textContent = finalMessage;
                    dailyQuote.textContent = `"${finalQuote}"`;
                    quoteAuthor.textContent = "Gloriaè€å¸«";

                } else if (daysLeft === 0) {
                    countdownTargetText.textContent = "å°±æ˜¯ä»Šå¤©ï¼";
                    dailyQuote.textContent = `"å°±æ˜¯ä»Šå¤©ï¼å…¨åŠ›ä»¥èµ´ï¼Œä½ æœ€æ£’ï¼"`;
                    quoteAuthor.textContent = "Gloriaè€å¸«";
                } else {
                    const today = new Date();
                    const dateStringForQuote = `${today.getFullYear()}-${today.getMonth() + 1}-${today.getDate()}`;
                    let seed = 0;
                    for (let i = 0; i < dateStringForQuote.length; i++) {
                        seed = (seed * 31 + dateStringForQuote.charCodeAt(i)) & 0xFFFFFFFF;
                    }
                    const quoteIndex = Math.abs(seed) % quotes.length;
                    dailyQuote.textContent = `"${quotes[quoteIndex].text}"`;
                    quoteAuthor.textContent = `â€” ${quotes[quoteIndex].author}`;
                }
            } else { 
                countdownDisplay.classList.add('hidden');
                quoteCard.classList.add('hidden');
                noDateSelected.classList.remove('hidden');
            }
        }

        // äº‹ä»¶ç›£è½å™¨
        countdownTypeSelect.addEventListener('change', (event) => {
            setupUIForSelectedMode(event.target.value);
        });

        startCountdownBtn.addEventListener('click', () => {
            formAlert.textContent = ''; 
            const date1Value = dateInput1.value;
            const date2Value = (currentSelectedMode === 'examToGraduation') ? dateInput2.value : null;

            if (!date1Value) {
                formAlert.textContent = (currentSelectedMode === 'exam' || currentSelectedMode === 'examToGraduation') ? 'è«‹é¸æ“‡å¤§è€ƒæ—¥æœŸï¼' : 'è«‹é¸æ“‡ç•¢æ¥­æ—¥æœŸï¼';
                return;
            }
            if (currentSelectedMode === 'examToGraduation' && !date2Value) {
                formAlert.textContent = 'è«‹é¸æ“‡ç•¢æ¥­æ—¥æœŸï¼';
                return;
            }
            if (currentSelectedMode === 'examToGraduation' && date1Value && date2Value && new Date(date1Value) >= new Date(date2Value)) {
                formAlert.textContent = 'å¤§è€ƒæ—¥æœŸå¿…é ˆæ—©æ–¼ç•¢æ¥­æ—¥æœŸï¼';
                return;
            }

            const dataToSave = {
                mode: currentSelectedMode,
                date1: date1Value,
            };
            if (date2Value) {
                dataToSave.date2 = date2Value;
            }

            localStorage.setItem('countdownAppData', JSON.stringify(dataToSave));
            updateCountdownDisplay();

            if (daysLeftElement.textContent && parseInt(daysLeftElement.textContent) >= 0) {
                 daysLeftElement.classList.add('pulse');
                 setTimeout(() => {
                    daysLeftElement.classList.remove('pulse');
                }, 2000);
            }
        });

        resetCountdownBtn.addEventListener('click', () => {
            localStorage.removeItem('countdownAppData');
            dateInput1.value = '';
            dateInput2.value = '';
            formAlert.textContent = '';
            updateCountdownDisplay(); 
        });

        // é é¢åˆå§‹è¼‰å…¥
        window.addEventListener('load', () => {
            const savedData = JSON.parse(localStorage.getItem('countdownAppData')) || {};
            const initialMode = savedData.mode || 'exam'; 
            countdownTypeSelect.value = initialMode; 
            setupUIForSelectedMode(initialMode); 
        });
    </script>
</body>
</html>

